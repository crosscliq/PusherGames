<!DOCTYPE html>
<html>
<head>
  <title>Pusher Test</title>
  <link rel="stylesheet" href="ui/css/style.css" type="text/css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="http://js.pusher.com/2.1/pusher.min.js" type="text/javascript"></script>
  
</head>
<body>

<div id="wrapper">
<div id="gamearea">

<div id="box"></div>
</div>



<div id="controller">

<button id='a' class="controllerButton">A</button>
<button id='b' class="controllerButton">B</button>
<button id='select' class="controllerButton">SELECT</button>
<button id='start' class="controllerButton">START</button>


<button id='up' class="controllerButton">UP</button>
<button id='down' class="controllerButton">DOWN</button>
<button id='right' class="controllerButton">RIGHT</button>
<button id='left' class="controllerButton">LEFT</button>
</div></div>


<div id="game">
Here is the game stuff
</div>
<script type="text/javascript">
    // Enable pusher logging - don't include this in production
    Pusher.log = function(message) {
      if (window.console && window.console.log) {
        window.console.log(message);
      }
    };

    var pusher = new Pusher('f2b24963b454eac2cfd7');
    var controller = pusher.subscribe('controller');
    controller.bind('my_event', function(data) {
      alert(data.message);
    });


     var game = pusher.subscribe('game');
    game.bind('event1', function(data) {
    	alert(data);
      $('#game').append(data.something);
    });

    game.bind('up', function(data) {
    	$("#box").css({
    top: $("#box").position().top - 10 + "px"
});
     
    });

    game.bind('down', function(data) {
    	$("#box").css({
    top: $("#box").position().top + 10 + "px"
});
     
    });

    game.bind('left', function(data) {
    	$("#box").css({
    left: $("#box").position().left - 10 + "px"
});
     
    });

     game.bind('right', function(data) {
    	$("#box").css({
    left: $("#box").position().left + 10 + "px"
});
     
    });


  </script>
  <script src="ui/js/game.js" type="text/javascript"></script>
</body>

</html>